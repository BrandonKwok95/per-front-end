# canvas个人学习

### 1-svg和canvas区别
canvas特点
- canvas在HTML层面上是一个独立的画布元素，同时canvas提供一系列API进行图像绘制
- canvas是面向像素的
- canvas重新操作时需要对整个画布进行重新绘制

svg特点
- 全称是 Scalable Vector Graphics，可缩放矢量图，它是浏览器支持的一种基于 XML 语法的图像格式
- svg是基于对象绘制，每个xml dom就是独立的对象，xml语法详细记录图片的详情信息
- svg修改属性会立即重新绘制

差异点：
- canvas绘制是基于像素，依赖分辨度，放大会失真；svg基于矢量图，xml会详细记录下图像的信息，因此放大不会失真。
- canvas渲染速度快，适用于动态渲染和大量数据绘制；svg适用于静态图标和图像质量高的应用场景

### 2-canvas相关API

#### **颜色、样式和阴影属性和方法**

| 属性                   | 描述                                     | 特殊说明               |
| ---------------------- | ---------------------------------------- | ---------------------- |
| fillStyle              | 设置或返回用于填充绘画的颜色、渐变或模式 | 配合`ctx.fill()`使用   |
| strokeStyle            | 设置或返回用于笔触的颜色、渐变或模式     |                        |
| shadowColor            | 设置或返回用于阴影的颜色                 | 配合`ctx.stroke()`使用 |
| shadowBlur             | 设置或返回用于阴影的模糊级别             | 三个等级               |
| shadowOffsetY          | 设置或返回阴影距形状的垂直距离           |                        |
| shadowOffsetX          | 设置或返回阴影距形状的水平距离           |                        |
| createLinearGradient() | 创建线性渐变（用在画布内容上）           | 以下不太熟悉           |
| createPattern()        | 在指定的方向上重复指定的元素             |                        |
| createRadialGradient() | 创建放射状/环形的渐变（用在画布内容上）  |                        |
| addColorStop()         | 规定渐变对象中的颜色和停止位置           |                        |

****



#### canvas主要属性和方法

| 属性          | 描述                                    | 特殊说明                                                     |
| ------------- | --------------------------------------- | ------------------------------------------------------------ |
| save()        | 保存当前环境的状态                      | `save()`和`restore()`配合使用可以用于时钟`rotate`            |
| restore()     | 返回之前保存过的路径状态和属性          |                                                              |
| createEvent() |                                         |                                                              |
| getContext()  | 返回一个对象，指出访问绘图功能必要的API | 获取`context`                                                |
| toDataURL()   | 返回canvas图像的URL                     | `canvas.toDataUrl(type, options)`<br /><br />`type` base64图片格式，默认`image/png`<br /><br />`options` 控制图片质量 |



#### canvas线条样式属性和方法

| 属性       | 描述                                     | 特殊说明            |
| ---------- | ---------------------------------------- | ------------------- |
| lineCap    | 设置或返回线条的结束端点样式             | butt, round, square |
| lineJoin   | 设置或返回两条线相交时，所创建的拐角类型 |                     |
| lineWidth  | 设置或返回当前的线条宽度                 |                     |
| miterLimit | 设置或返回最大斜接长度                   | 斜切角截取          |



#### 矩形方法

| 方法         | 描述                         |
| ------------ | ---------------------------- |
| rect()       | 创建矩形                     |
| fillRect()   | 绘制"被填充"的矩形           |
| strokeRect() | 绘制矩形（无填充）           |
| clearRect()  | 在给定的矩形内清除指定的像素 |



#### 路径方法

| 方法               | 描述                                       |
| ------------------ | ------------------------------------------ |
| fill()             | 填充当前绘图（路径）                       |
| stroke()           | 绘制已定义的路径                           |
| beginPath()        | 起始一条路径，或重置当前路径               |
| moveTo()           | 把路径移动到画布中的指定点，不创建线条     |
| closePath()        | 创建从当前点回到起始点的路径               |
| lineTo()           | 添加一个新点，创建从该点到最后指定点的线条 |
| clip()             | 从原始画布剪切任意形状和尺寸的区域         |
| quadraticCurveTo() | 创建二次贝塞尔曲线                         |
| bezierCurveTo()    | 创建三次方贝塞尔曲线                       |
| arc()              | 创建弧/曲线（用于创建圆形或部分圆）        |
| arcTo()            | 创建两切线之间的弧/曲线                    |
| isPointInPath()    | 如果指定的点位于当前路径中，返回布尔值     |



#### 转换方法

| 方法           | 描述                                           | 特殊说明             |
| -------------- | ---------------------------------------------- | -------------------- |
| scale()        | 缩放当前绘图至更大或更小                       |                      |
| rotate()       | 旋转当前绘图                                   | 旋转注意旋转圆心位置 |
| translate()    | 重新映射画布上的 (0,0) 位置                    |                      |
| transform()    | 替换绘图的当前转换矩阵                         |                      |
| setTransform() | 将当前转换重置为单位矩阵。然后运行 transform() |                      |



#### 文本属性和方法

| 属性         | 描述                                     |
| ------------ | ---------------------------------------- |
| font         | 设置或返回文本内容的当前字体属性         |
| textAlign    | 设置或返回文本内容的当前对齐方式         |
| textBaseline | 设置或返回在绘制文本时使用的当前文本基线 |

| 方法          | 描述                       |
| ------------- | -------------------------- |
| fillText()    | 在画布上绘制"被填充的"文本 |
| strokeText()  | 在画布上绘制文本（无填充） |
| measureText() | 返回包含指定文本宽度的对象 |



#### 图像绘制方法

| 方法        | 描述                         | 特殊说明                              |
| ----------- | ---------------------------- | ------------------------------------- |
| drawImage() | 向画布上绘制图像、画布或视频 | 可以重新绘制video标签，进行定制化处理 |



#### 像素操作方法和属性

| 属性   | 描述                                                |
| ------ | --------------------------------------------------- |
| width  | 返回 ImageData 对象的宽度                           |
| height | 返回 ImageData 对象的高度                           |
| data   | 返回一个对象，其包含指定的 ImageData 对象的图像数据 |

| 方法              | 描述                                                      |
| ----------------- | --------------------------------------------------------- |
| createImageData() | 创建新的、空白的 ImageData 对象                           |
| getImageData()    | 返回 ImageData 对象，该对象为画布上指定的矩形复制像素数据 |
| putImageData()    | 把图像数据（从指定的 ImageData 对象）放回画布上           |

#### 图像合成属性

| 属性                     | 描述                                   | 特殊说明                    |
| ------------------------ | -------------------------------------- | --------------------------- |
| globalAlpha              | 设置或返回绘图的当前 alpha 或透明值    |                             |
| globalCompositeOperation | 设置或返回新图像如何绘制到已有的图像上 | *主要用于前后绘制，实际效果 |
